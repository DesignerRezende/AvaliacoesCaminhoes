<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Registro de Acesso</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      color: #222;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }
  </style>
</head>
<body>
  <h2>Registrando acesso...</h2>
  <p id="status">Aguarde...</p>

  <script>
    const params = new URLSearchParams(window.location.search);
    const caminhao = params.get("caminhao");

    const colaborador = localStorage.getItem("colaborador") || "Visitante";
    const link = window.location.href;

    const payload = {
      colaborador: colaborador,
      caminhao: caminhao,
      link: link
    };

    fetch("https://script.google.com/macros/s/SEU_DEPLOY_ID/exec", {
      method: "POST",
      mode: "no-cors",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(payload)
    })
    .then(() => {
      document.getElementById("status").innerText = "Acesso registrado com sucesso.";
    })
    .catch((error) => {
      console.error("Erro ao registrar:", error);
      document.getElementById("status").innerText = "Erro ao registrar: " + error.message;
    });
  </script>
</body>
</html>
